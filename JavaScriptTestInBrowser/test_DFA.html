<script>
// 使用dfa做(abc)*的匹配判断
//    a   b  c other 
// 0  1  -1 -1 -1
// 1  -1  2 -1 -1
// 2  -1 -1 3 -1
// 3  1  -1 -1 -1

let str = 'abcabcabc'

var isMatch = function(str) {
  let dfa = [
    [1,4,4,4],
    [4,2,4,4],
    [4,4,3,4],
    [1,4,4,4],
    [4,4,4,4]
  ]
  let state = 0
  let p = 0
  var make = function(char) {
    switch (char) {
      case 'a':
        return 0
      case 'b':
        return 1
      case 'c':
        return 2
      default:
        return 3
    }    
  }
  while(p<str.length) {
    state = dfa[state][make(str[p])]
    p++
  }
  if(state === 3) {
    return true
  }else{
    return false
  }
}

console.log(isMatch(str))
</script>